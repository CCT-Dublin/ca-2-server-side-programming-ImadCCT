<!DOCTYPE html>
<html>
<head><title>Form</title></head>
<body>
<form id="userForm">
<input type="text" name="first_name" placeholder="First Name" required maxlength="20">
<input type="text" name="second_name" placeholder="Second Name" required maxlength="20">
<input type="email" name="email" placeholder="Email" required>
<input type="text" name="phone_number" placeholder="Phone Number" required pattern="\d{10}">
<input type="text" name="eircode" placeholder="Eircode" required pattern="\d[A-Za-z0-9]{5}">
<button type="submit">Submit</button>
</form>
<div id="message"></div>
<script>
const form = document.getElementById('userForm');
form.addEventListener('submit', async e => {
  e.preventDefault();
  const formData = Object.fromEntries(new FormData(form));
  const res = await fetch('/submit-form', {method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(formData)});
  const data = await res.json();
  document.getElementById('message').innerText = data.success ? 'Submitted!' : JSON.stringify(data.errors);
});
</script>
</body>
</html>